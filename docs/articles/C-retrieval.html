<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Retrieval and Reuse • dataverse</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Retrieval and Reuse">
<meta property="og:description" content="dataverse">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dataverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A-introduction.html">Introduction to Dataverse</a>
    </li>
    <li>
      <a href="../articles/B-search.html">Data Search and Discovery</a>
    </li>
    <li>
      <a href="../articles/C-retrieval.html">Data Retrieval and Reuse</a>
    </li>
    <li>
      <a href="../articles/D-archiving.html">Data Archiving</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/iqss/dataverse-client-r/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="C-retrieval_files/header-attrs-2.6/header-attrs.js"></script><script src="C-retrieval_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Retrieval and Reuse</h1>
            
            <h4 class="date">2017-06-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/iqss/dataverse-client-r/blob/master/vignettes/C-retrieval.Rmd"><code>vignettes/C-retrieval.Rmd</code></a></small>
      <div class="hidden name"><code>C-retrieval.Rmd</code></div>

    </div>

    
    
<p>This vignette shows how to download data from Dataverse using the dataverse package. We’ll focus on a Dataverse repository that contains supplemental files for <a href="https://www.springer.com/gb/book/9783319234458"><em>Political Analysis Using R</em></a>, which is stored at Harvard University’s <a href="https://dataverse.harvard.edu/">IQSS Dataverse Network</a>:</p>
<blockquote>
<p>Monogan, Jamie, 2015, “Political Analysis Using R: Example Code and Data, Plus Data for Practice Problems”, <a href="https://doi.org/10.7910/DVN/ARKOTI">doi:10.7910/DVN/ARKOTI</a>, Harvard Dataverse, V1, UNF:6:+itU9hcUJ8I9E0Kqv8HWHg==</p>
</blockquote>
<p>This study is persistently retrievable by a “<a href="https://www.doi.org/">Digital Object Identifier (DOI)</a>”: <a href="https://doi.org/10.7910/DVN/ARKOTI" class="uri">https://doi.org/10.7910/DVN/ARKOTI</a> and the citation above (taken from the Dataverse page) includes a “<a href="https://guides.dataverse.org/en/latest/developers/unf/index.html">Universal Numeric Fingerprint (UNF)</a>”: <code>UNF:6:+itU9hcUJ8I9E0Kqv8HWHg==</code>, which provides a versioned, multi-file hash for the entire study, which contains 32 files.</p>
<p>If you don’t already know what datasets and files you want to use from Dataverse, see the <a href="B-search.html">“Data Search” vignette</a> for guidance on data search and discovery.</p>
<div id="retrieving-dataset-and-file-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#retrieving-dataset-and-file-metadata" class="anchor"></a>Retrieving Dataset and File Metadata</h2>
<p>We will download these files and examine them directly in R using the <strong>dataverse</strong> package. To begin, we need to loading the package and using the <code><a href="../reference/get_dataset.html">get_dataset()</a></code> function to retrieve some basic metadata about the dataset:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/iqss/dataverse-client-r">"dataverse"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span><span class="st">"DATAVERSE_SERVER"</span> <span class="op">=</span> <span class="st">"dataverse.harvard.edu"</span><span class="op">)</span>
<span class="op">(</span><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_dataset.html">get_dataset</a></span><span class="op">(</span><span class="st">"doi:10.7910/DVN/ARKOTI"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Dataset (75170):
## Version: 1.0, RELEASED
## Release Date: 2015-07-07T02:57:02Z
## License: CC0
## 17 Files:
##                           label version      id                  contentType
## 1                  alpl2013.tab       2 2692294    text/tab-separated-values
## 2                   BPchap7.tab       2 2692295    text/tab-separated-values
## 3                   chapter01.R       2 2692202 text/plain; charset=US-ASCII
## 4                   chapter02.R       2 2692206 text/plain; charset=US-ASCII
## 5                   chapter03.R       2 2692210 text/plain; charset=US-ASCII
## 6                   chapter04.R       2 2692204 text/plain; charset=US-ASCII
## 7                   chapter05.R       2 2692205 text/plain; charset=US-ASCII
## 8                   chapter06.R       2 2692212 text/plain; charset=US-ASCII
## 9                   chapter07.R       2 2692209 text/plain; charset=US-ASCII
## 10                  chapter08.R       2 2692208 text/plain; charset=US-ASCII
## 11                  chapter09.R       2 2692211 text/plain; charset=US-ASCII
## 12                  chapter10.R       1 2692203 text/plain; charset=US-ASCII
## 13                  chapter11.R       1 2692207 text/plain; charset=US-ASCII
## 14 comprehensiveJapanEnergy.tab       2 2692296    text/tab-separated-values
## 15         constructionData.tab       2 2692293    text/tab-separated-values
## 16             drugCoverage.csv       1 2692233 text/plain; charset=US-ASCII
## 17         hanmerKalkanANES.tab       2 2692290    text/tab-separated-values
## 18                 hmnrghts.tab       2 2692298    text/tab-separated-values
## 19                 hmnrghts.txt       1 2692238                   text/plain
## 20                   levant.tab       2 2692289    text/tab-separated-values
## 21                       LL.csv       1 2692228 text/plain; charset=US-ASCII
## 22                 moneyDem.tab       2 2692292    text/tab-separated-values
## 23            owsiakJOP2013.tab       2 2692297    text/tab-separated-values
## 24                PESenergy.csv       1 2692230 text/plain; charset=US-ASCII
## 25                  pts1994.csv       1 2692229 text/plain; charset=US-ASCII
## 26                  pts1995.csv       1 2692231 text/plain; charset=US-ASCII
## 27                 sen113kh.ord       1 2692239 text/plain; charset=US-ASCII
## 28                SinghEJPR.tab       2 2692299    text/tab-separated-values
## 29                 SinghJTP.tab       2 2692288    text/tab-separated-values
## 30                 stdSingh.tab       2 2692291    text/tab-separated-values
## 31                       UN.csv       1 2692232 text/plain; charset=US-ASCII
## 32                  war1800.tab       2 2692300    text/tab-separated-values</code></pre>
<p>The output prints some basic metadata and then the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> of the <code>files</code> data frame returned by the call. This lists all of the files in the dataset along with a considerable amount of metadata about each. We can see a quick glance at these files using:</p>
<pre><code>dataset$files[c("filename", "contentType")]</code></pre>
<p>This shows that there are indeed 32 files, a mix of .R code files and tab- and comma-separated data files.</p>
<p>You can also retrieve more extensive metadata using <code><a href="../reference/get_dataset.html">dataset_metadata()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_dataset.html">dataset_metadata</a></span><span class="op">(</span><span class="st">"doi:10.7910/DVN/ARKOTI"</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## List of 2
##  $ displayName: chr "Citation Metadata"
##  $ fields     :'data.frame': 7 obs. of  4 variables:</code></pre>
<p>We’ll focus here on the code and data files for Chapter 2 from the book.</p>
</div>
<div id="retrieving-files" class="section level2">
<h2 class="hasAnchor">
<a href="#retrieving-files" class="anchor"></a>Retrieving Files</h2>
<p>Let’s start by grabbing the code using <code><a href="../reference/get_file.html">get_file()</a></code> (note that this always returns a raw vector):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">code3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_file.html">get_file</a></span><span class="op">(</span><span class="st">"chapter03.R"</span>, <span class="st">"doi:10.7910/DVN/ARKOTI"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/readBin.html">writeBin</a></span><span class="op">(</span><span class="va">code3</span>, <span class="st">"chapter03.R"</span><span class="op">)</span></code></pre></div>
<p>Now we’ll get the corresponding data and save it locally. For this code we need two data files:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/readBin.html">writeBin</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_file.html">get_file</a></span><span class="op">(</span><span class="st">"constructionData.tab"</span>, <span class="st">"doi:10.7910/DVN/ARKOTI"</span><span class="op">)</span>,
         <span class="st">"constructionData.dta"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/readBin.html">writeBin</a></span><span class="op">(</span><span class="fu"><a href="../reference/get_file.html">get_file</a></span><span class="op">(</span><span class="st">"PESenergy.csv"</span>, <span class="st">"doi:10.7910/DVN/ARKOTI"</span><span class="op">)</span>,
         <span class="st">"PESenergy.csv"</span><span class="op">)</span></code></pre></div>
<p>To confirm that the data look the way we want, we can also (perhaps alternatively) load it directly into R:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">constructionData</span> <span class="op">&lt;-</span> <span class="fu">foreign</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/foreign/man/read.dta.html">read.dta</a></span><span class="op">(</span><span class="st">"constructionData.dta"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">constructionData</span><span class="op">)</span>
<span class="va">PESenergy</span> <span class="op">&lt;-</span> <span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"PESenergy.csv"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">PESenergy</span><span class="op">)</span></code></pre></div>
<pre><code>## 'data.frame':    50 obs. of  55 variables:
##  $ year                      : int  1997 1997 1997 1997 1997 1997 1997 1997 1997 1997 ...
##  $ stno                      : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ totalreg                  : int  329 500 314 963 2106 643 634 239 1996 880 ...
##  $ totalhealth               : int  300 424 263 834 1859 554 501 204 1640 732 ...
##  $ raneyfolded97             : num  0.58 0.69 0.85 0.63 0.5 ...
##  $ healthagenda97            : int  49 180 137 220 1409 153 324 40 408 157 ...
##  $ predictedtotalig          : num  51.8 99 81.8 111.2 224.1 ...
##  $ supplytotalhealth         : int  1168 6991 4666 9194 70014 8847 7845 1438 35363 13471 ...
##  $ totalhealthsupplysq       : int  136 4887 2177 8453 490196 7827 6154 207 125054 18147 ...
##  $ partratetotalhealth       : num  2.48 1.09 1.09 1.4 0.35 ...
##  $ ighealthcare              : int  29 76 51 129 247 89 133 35 356 148 ...
##  $ supplydirectpatientcare   : int  1137 6687 4458 8785 66960 8320 7439 1365 33793 12760 ...
##  $ dpcsupplysq               : int  129 4472 1987 7718 448364 6922 5534 186 114197 16282 ...
##  $ partratedpc               : num  1.14 0.51 0.43 0.68 0.17 ...
##  $ igdpcare                  : int  13 34 19 60 112 40 67 12 212 74 ...
##  $ supplypharmprod           : int  0 174 78 229 2288 340 202 36 962 360 ...
##  $ pharmsupplysq             : int  0 30276 6084 52441 5234944 115600 40804 1296 925444 129600 ...
##  $ partratepharmprod         : num  0 10.34 19.23 5.24 2.05 ...
##  $ igpharmprod               : int  4 18 15 12 47 23 22 12 46 32 ...
##  $ supplybusiness            : int  0 51 28 93 315 55 36 14 317 78 ...
##  $ businesssupplysq          : int  0 2601 784 8649 99225 3025 1296 196 100489 6084 ...
##  $ partratebusness           : num  0 1.96 14.29 15.05 6.03 ...
##  $ igbusiness                : int  2 1 4 14 19 5 4 2 25 6 ...
##  $ supplygovt                : int  14 26 80 23 70 71 105 2 67 176 ...
##  $ govsupplysq               : num  0.02 0.07 0.64 0.05 0.49 ...
##  $ partrategov               : num  0 38.5 2.5 30.4 10 ...
##  $ iggovt                    : int  0 10 2 7 7 1 8 0 12 2 ...
##  $ supplyadvocacy            : int  16 37 14 57 344 54 51 18 206 76 ...
##  $ advossq                   : int  256 1369 196 3249 118336 2916 2601 324 42436 5776 ...
##  $ partrateadvo              : num  31.25 16.22 28.57 31.58 8.72 ...
##  $ ig97advoc                 : int  5 6 4 18 30 7 9 4 26 17 ...
##  $ rnmedschools              : int  1 16 8 7 37 7 12 3 18 21 ...
##  $ rnmedschoolssq            : int  1 256 64 49 1369 49 144 9 324 441 ...
##  $ rnmedschoolpartrate       : num  100 0 12.5 28.57 5.41 ...
##  $ rnmedschooligs            : int  1 0 1 2 2 0 1 0 6 1 ...
##  $ healthprofessionals       : int  12890 128980 82140 122760 749620 111550 121110 22740 471270 215670 ...
##  $ healthprofessionalssquared: int  16615 1663584 674698 1507002 56193014 1244340 1466763 51711 22209541 4651355 ...
##  $ partrateprofessionals     : num  0.03 0.01 0.01 0.01 0 ...
##  $ ighealthprofessionals     : int  4 7 6 16 30 13 22 5 29 16 ...
##  $ predictdpcpartrate        : num  1.175 0.915 1.016 0.826 0.348 ...
##  $ predictdpcig              : num  23.1 49.7 39.4 58.8 103.5 ...
##  $ predictprofpartrate       : num  0.02475 0.01383 0.01788 0.01434 0.00579 ...
##  $ predictprofig             : num  7.59 12.58 10.69 12.34 22.47 ...
##  $ predictmedschoolparttrate : num  17.39 8.08 12.3 12.95 5.02 ...
##  $ predictmedschoolig        : num  0.355 1.269 0.774 0.713 2.65 ...
##  $ predictadvopartrate       : num  31.9 26.4 32.5 21.6 13 ...
##  $ predictadvoig             : num  5.96 7.98 5.76 9.83 28.53 ...
##  $ predictbuspartrate        : num  25.78 18.08 21.33 13.1 7.27 ...
##  $ predictbusig              : num  2.58 7.96 5.66 11.66 20.04 ...
##  $ predictpharmpartrate      : num  21.38 15.22 18.52 13.44 4.14 ...
##  $ predictpharmig            : num  11.3 18.1 14.4 20.1 45.1 ...
##  $ predictgovpartrate        : num  14.41 12.61 5.84 13.03 6.93 ...
##  $ predictgovig              : num  2.06 2.43 3.78 2.35 3.57 ...
##  $ predicttotalpartrate      : num  2.41 1.823 2.047 1.623 0.752 ...
##  $ predicttotalig            : num  54.2 99.2 81.9 114.8 228.3 ...
##  - attr(*, "datalabel")= chr ""
##  - attr(*, "time.stamp")= chr " 1 Jun 2013 16:59"
##  - attr(*, "formats")= chr  "%8.0g" "%8.0g" "%8.0g" "%8.0g" ...
##  - attr(*, "types")= int  252 251 252 252 254 252 254 253 253 254 ...
##  - attr(*, "val.labels")= chr  "" "" "" "" ...
##  - attr(*, "var.labels")= chr  "Year" "StNo." "97 TotalReg" "97Total-Health" ...
##  - attr(*, "version")= int 12
## 'data.frame':    181 obs. of  1 variable:
##  $ V1: Factor w/ 181 levels "Apr-69,5,3.4,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,39.2",..: 31 62 47 107 1 122 92 77 16 167 ...</code></pre>
<p>In addition to visual inspection, we can compare the UNF signatures for each dataset against what is reported by Dataverse to confirm that we received the correct files:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/leeper/UNF">"UNF"</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/UNF/man/unf.html">unf</a></span><span class="op">(</span><span class="va">constructionData</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/UNF/man/unf.html">unf</a></span><span class="op">(</span><span class="va">PESenergy</span><span class="op">)</span>
<span class="va">dataset</span><span class="op">$</span><span class="va">files</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"label"</span>, <span class="st">"UNF"</span><span class="op">)</span><span class="op">]</span></code></pre></div>
<pre><code>## UNF6:+4pc5114xS0ryr1sSvdX6g==
## UNF6:TD7TEMZyrX4iGTlTsUKQDg==
##                           label                            UNF
## 1                  alpl2013.tab UNF:6:d9ZNXvmiPfiunSAiXRpVfg==
## 2                   BPchap7.tab UNF:6:B3/HJbnzktaX5eEJA2ItiA==
## 3                   chapter01.R                           &lt;NA&gt;
## 4                   chapter02.R                           &lt;NA&gt;
## 5                   chapter03.R                           &lt;NA&gt;
## 6                   chapter04.R                           &lt;NA&gt;
## 7                   chapter05.R                           &lt;NA&gt;
## 8                   chapter06.R                           &lt;NA&gt;
## 9                   chapter07.R                           &lt;NA&gt;
## 10                  chapter08.R                           &lt;NA&gt;
## 11                  chapter09.R                           &lt;NA&gt;
## 12                  chapter10.R                           &lt;NA&gt;
## 13                  chapter11.R                           &lt;NA&gt;
## 14 comprehensiveJapanEnergy.tab UNF:6:Vhb3oZb9m4Nk9N7s6UAHGg==
## 15         constructionData.tab UNF:6:+4pc5114xS0ryr1sSvdX6g==
## 16             drugCoverage.csv                           &lt;NA&gt;
## 17         hanmerKalkanANES.tab UNF:6:lrQrhDAXFc8lSRP9muJslw==
## 18                 hmnrghts.tab UNF:6:uEg24jBA2ht0P4WeNLjI+w==
## 19                 hmnrghts.txt                           &lt;NA&gt;
## 20                   levant.tab UNF:6:zlgG7+JXsIZYvS383eQOvA==
## 21                       LL.csv                           &lt;NA&gt;
## 22                 moneyDem.tab UNF:6:7M/QM5i6IM/VUM94UJjJUQ==
## 23            owsiakJOP2013.tab UNF:6:0ZEvCFuUQms2zYD57hmwNQ==
## 24                PESenergy.csv                           &lt;NA&gt;
## 25                  pts1994.csv                           &lt;NA&gt;
## 26                  pts1995.csv                           &lt;NA&gt;
## 27                 sen113kh.ord                           &lt;NA&gt;
## 28                SinghEJPR.tab UNF:6:iDGp9dXOl4SiR+rCBWo8Tw==
## 29                 SinghJTP.tab UNF:6:lDCyZ7YQF5O++SRsxh2kGA==
## 30                 stdSingh.tab UNF:6:A5gwtn5q/ewkTMpcQEQ73w==
## 31                       UN.csv                           &lt;NA&gt;
## 32                  war1800.tab UNF:6:jJ++mepKcv9JbJOOPLMf2Q==</code></pre>
</div>
<div id="reusing-files-and-reproducing-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#reusing-files-and-reproducing-analysis" class="anchor"></a>Reusing Files and Reproducing Analysis</h2>
<p>To reproduce the analysis, we can simply run the code file either as a <code><a href="https://rdrr.io/r/base/system.html">system()</a></code> call or directly in R using <code><a href="https://rdrr.io/r/base/source.html">source()</a></code> (note this particular file begins with an <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> call so you may want to run it in a <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/environment.html">new enviroment</a>):</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Option 1</span>
<span class="fu"><a href="https://rdrr.io/r/base/system.html">system</a></span><span class="op">(</span><span class="st">"Rscript chapter03.R"</span><span class="op">)</span>

<span class="co"># Option 2</span>
<span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span><span class="op">(</span><span class="st">"chapter03.R"</span>, local<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/environment.html">new.env</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Any well-produced set of analysis reproduction files, like this one, should run without error once the data and code are in-hand. Troubleshooting anlaysis files is beyond the scope of this vignette, but common sources are</p>
<ol style="list-style-type: decimal">
<li>The working directory is not set the same as the author intended. This could affect code files not finding the relative position of datasets or of other code files.</li>
<li>Your local machine hasn’t downloaded or installed all the necessary datasets and packages.</li>
<li>The functions called in the code have changed since the script was developed.</li>
</ol>
<p>To archive your own reproducible analyses using Dataverse, see the <a href="D-archiving.html">“Archiving Data” vignette</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Will Beasley, Thomas J. Leeper, Philip Durbin, Shiro Kuriwaki, Sebastian Karcher.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
